<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Text Ticker Tool</title>
    <!-- Google Fonts - Wix Madefor Display Variable Font -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Wix+Madefor+Display:wght@400..800&family=Inter:wght@400..700&family=Roboto:wght@400..700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="style.css">
    <!-- P5.js for advanced typography rendering -->
    <script src="https://cdn.jsdelivr.net/npm/p5@1.11.8/lib/p5.min.js"></script>
    <!-- JSZip for PNG sequence zipping -->
    <script src="https://cdn.jsdelivr.net/npm/jszip@3.10.1/dist/jszip.min.js"></script>
    <!-- FFmpeg.js for MP4 conversion -->
    <script src="https://unpkg.com/@ffmpeg/ffmpeg@0.12.10/dist/umd/ffmpeg.js"></script>
    <script src="https://unpkg.com/@ffmpeg/util@0.12.1/dist/umd/util.js"></script>
</head>
<body>
    <!-- Header -->
    <div class="header">
        <div class="header-title">Text Ticker Tool V1.0</div>
        <div class="header-credit">MADE BY STUDIO-VIDEO</div>
    </div>

    <!-- Main Container -->
    <div class="main-container">
        <!-- Side Panel -->
        <div class="side-panel">
            <div class="panel-header">
                <h3>Controls</h3>
                <button class="help-icon" id="helpIcon" title="Help & Instructions">
                    <span class="help-icon-text">?</span>
                </button>
            </div>
            
            <div class="controls-section">
                <h4>Text Content</h4>
                <div class="text-input-container">
                    <textarea id="textInput" placeholder="Enter your text here..." rows="3" class="text-input-box">Sample Text</textarea>
                </div>
                
                <div class="font-controls">
                    <div class="font-family-row">
                        <label for="fontFamilySelect">Font Family:</label>
                        <select id="fontFamilySelect" class="font-family-select">
                            <option value="Wix Madefor Display">Wix Madefor Display</option>
                            <option value="Inter">Inter</option>
                            <option value="Roboto">Roboto</option>
                            <option value="Arial">Arial</option>
                        </select>
                    </div>
                    
                    <div class="font-size-row">
                        <label for="fontSizeSlider">Font Size:</label>
                        <input type="range" id="fontSizeSlider" min="12" max="72" step="2" value="24" class="control-slider">
                        <span id="fontSizeValue">24px</span>
                    </div>
                    
                    <div class="font-weight-row">
                        <label for="fontWeightSlider">Font Weight:</label>
                        <input type="range" id="fontWeightSlider" min="400" max="800" step="25" value="500" class="control-slider">
                        <span id="fontWeightValue">500</span>
                    </div>
                    
                    <div class="text-color-row">
                        <label for="textColorPicker">Text Color:</label>
                        <input type="color" id="textColorPicker" value="#ffffff" class="color-picker">
                    </div>
                </div>
            </div>

            <div class="controls-section">
                <h4>Shape Mode</h4>
                <div class="preset-control-row">
                    <label for="shapeTypeSelect">Shape:</label>
                    <select id="shapeTypeSelect" class="preset-select">
                        <option value="circle">Circle</option>
                        <option value="rectangle">Rectangle</option>
                        <option value="triangle">Triangle</option>
                    </select>
                </div>
            </div>

            <div class="controls-section" id="shapePropertiesSection">
                <h4>Shape Properties</h4>
                
                <!-- Circle Properties -->
                <div id="circleProperties" class="shape-properties-group">
                    <div class="slider-control-row">
                        <label for="radiusSlider">Radius:</label>
                        <input type="range" id="radiusSlider" min="50" max="300" step="10" value="150" class="control-slider">
                        <span id="radiusValue">150</span>
                    </div>
                </div>
                
                <!-- Rectangle Properties -->
                <div id="rectangleProperties" class="shape-properties-group" style="display: none;">
                    <div class="slider-control-row">
                        <label for="rectWidthSlider">Width:</label>
                        <input type="range" id="rectWidthSlider" min="100" max="400" step="10" value="300" class="control-slider">
                        <span id="rectWidthValue">300</span>
                    </div>
                    <div class="slider-control-row">
                        <label for="rectHeightSlider">Height:</label>
                        <input type="range" id="rectHeightSlider" min="80" max="300" step="10" value="200" class="control-slider">
                        <span id="rectHeightValue">200</span>
                    </div>
                    <div class="slider-control-row">
                        <label for="rectCornerSlider">Corner Radius:</label>
                        <input type="range" id="rectCornerSlider" min="0" max="50" step="2" value="0" class="control-slider">
                        <span id="rectCornerValue">0</span>
                    </div>
                </div>
                
                <!-- Triangle Properties -->
                <div id="triangleProperties" class="shape-properties-group" style="display: none;">
                    <div class="slider-control-row">
                        <label for="triangleSizeSlider">Size:</label>
                        <input type="range" id="triangleSizeSlider" min="100" max="400" step="10" value="200" class="control-slider">
                        <span id="triangleSizeValue">200</span>
                    </div>
                    <div class="slider-control-row">
                        <label for="triangleCornerSlider">Corner Radius:</label>
                        <input type="range" id="triangleCornerSlider" min="0" max="30" step="2" value="0" class="control-slider">
                        <span id="triangleCornerValue">0</span>
                    </div>
                </div>
                
                <!-- Common Rotation Control -->
                <div class="slider-control-row">
                    <label for="rotationSlider">Rotation:</label>
                    <input type="range" id="rotationSlider" min="0" max="360" step="1" value="0" class="control-slider">
                    <span id="rotationValue">0Â°</span>
                </div>
            </div>

            <div class="controls-section">
                <h4>Text Ribbon</h4>
                <div class="preset-control-row">
                    <label for="ribbonModeSelect">Ribbon Mode:</label>
                    <select id="ribbonModeSelect" class="preset-select">
                        <option value="off">Off</option>
                        <option value="character" selected>Character Borders</option>
                        <option value="shapePath">Shape Path</option>
                    </select>
                </div>
                <div class="slider-control-row">
                    <label for="ribbonWidthSlider">Border Width:</label>
                    <input type="range" id="ribbonWidthSlider" min="0.1" max="2.0" step="0.1" value="0.25" class="control-slider">
                    <span id="ribbonWidthValue">0.25x</span>
                </div>
                <div class="color-control-row">
                    <label for="ribbonColorPicker">Border Color:</label>
                    <input type="color" id="ribbonColorPicker" value="#ff0000" class="color-picker">
                </div>
            </div>

            <div class="controls-section">
                <h4>Background Color</h4>
                <div class="color-control-row">
                    <label for="backgroundColorPicker">Color:</label>
                     <input type="color" id="backgroundColorPicker" value="#121212" class="color-picker">
                     <!-- Alpha background toggle -->
                     <div class="toggle-switch" id="alphaBackgroundToggle" style="margin-left: 12px;">
                         <input type="checkbox" id="alphaBackgroundCheckbox" class="toggle-checkbox">
                         <label for="alphaBackgroundCheckbox" class="toggle-label" title="Toggle transparent background">
                             <span class="toggle-slider"></span>
                             <span class="toggle-text">OFF</span>
                         </label>
                     </div>
                </div>
                <!-- Background & Foreground Image Upload -->
                <div class="bg-image-row">
                    <div class="bg-upload-button" id="bgUploadButton" title="Upload background image">
                        <span class="upload-icon">+</span>
                        <span class="upload-text">BG</span>
                    </div>
                    <input type="file" id="bgImageInput" accept="image/*" style="display: none;">
                    <div class="fg-upload-button" id="fgUploadButton" title="Upload foreground overlay image">
                        <span class="upload-icon">+</span>
                        <span class="upload-text">FG</span>
                    </div>
                    <input type="file" id="fgImageInput" accept="image/*" style="display: none;">
                </div>
            </div>

            <div class="controls-section">
                <h4>Frame Size</h4>
                <div class="frame-control-row">
                    <label for="frameWidth">Width:</label>
                    <input type="text" id="frameWidth" value="800" class="size-input">
                    <span>px</span>
                </div>
                <div class="frame-control-row">
                    <label for="frameHeight">Height:</label>
                    <input type="text" id="frameHeight" value="600" class="size-input">
                    <span>px</span>
                </div>
                <button class="control-btn" id="applySizeBtn">Apply Size</button>
            </div>

            <div class="controls-section">
                <h4>Preview Zoom</h4>
                <div class="slider-control-row">
                    <label for="zoomSlider">Zoom:</label>
                    <input type="range" id="zoomSlider" min="0.25" max="2.0" step="0.05" value="1.0" class="slider">
                    <span id="zoomValue" class="value">100%</span>
                </div>
                <button class="control-btn" id="resetZoomBtn">Reset Zoom</button>
            </div>

            <div class="controls-section">
                <h4>Export</h4>
                <button class="control-btn export-btn" id="exportBtn">Export</button>
            </div>
        </div>
        
        <!-- Content Area -->
        <div class="content-area">
            <div class="frame-container" id="frameContainer">
                <!-- Canvas will be added here -->
            </div>
        </div>
    </div>

    <!-- Help Modal -->
    <div class="modal-overlay" id="helpModal">
        <div class="modal-content help-modal">
            <div class="modal-header">
                <h3>How to Use Text Ticker Tool</h3>
                <button class="modal-close" id="closeHelpModal">&times;</button>
            </div>
            
            <div class="modal-body help-content">
                <div class="help-section">
                    <h4>âï¸ Getting Started</h4>
                    <ol>
                        <li><strong>Enter Text:</strong> Type your text in the text input box</li>
                        <li><strong>Choose Path:</strong> Select "Shape" mode for circular text paths</li>
                        <li><strong>Customize:</strong> Adjust radius, rotation, and background color</li>
                        <li><strong>Export:</strong> Click "Export" to save your typography design</li>
                    </ol>
                </div>
                
                <div class="help-section">
                    <h4>ð¤ Path Modes</h4>
                    <div class="mode-info">
                        <p><strong>Shape:</strong> Text follows circular paths with adjustable radius and rotation</p>
                        <p><em>More path modes will be available in future updates</em></p>
                    </div>
                </div>
                
                <div class="help-section">
                    <h4>ð¨ Typography Controls</h4>
                    <ul>
                        <li><strong>Font Family:</strong> Choose from Wix Madefor Display, Inter, Roboto, or Arial</li>
                        <li><strong>Font Weight:</strong> Adjust variable font weight from 400 (Regular) to 800 (ExtraBold)</li>
                        <li><strong>Radius:</strong> Adjust the size of the circular text path</li>
                        <li><strong>Rotation:</strong> Rotate the entire text path around the center</li>
                        <li><strong>Background Color:</strong> Pick any color for your design background</li>
                        <li><strong>Preview Zoom:</strong> Zoom in/out to get a better view while designing</li>
                    </ul>
                </div>
                
                <div class="help-section">
                    <h4>ð Export Options</h4>
                    <ul>
                        <li><strong>PNG Export:</strong> Save your typography design as a high-quality image</li>
                        <li><strong>MP4 Export:</strong> Coming soon - animated typography videos</li>
                        <li><strong>Resolution:</strong> Always exports at original resolution, regardless of zoom</li>
                        <li><strong>Background Images:</strong> Add background and foreground images for layered designs</li>
                    </ul>
                </div>
                
                <div class="help-section">
                    <h4>ð¡ Typography Tips</h4>
                    <ul>
                        <li>Short phrases work best for circular text paths</li>
                        <li><strong>Wix Madefor Display</strong> supports smooth variable weights (400-800)</li>
                        <li>Lighter weights (400-500) work well for large text, heavier weights (600-800) for emphasis</li>
                        <li>Use <strong>Preview Zoom</strong> to fine-tune text positioning and weight</li>
                        <li>Try different radius values to create various text circle sizes</li>
                        <li>Rotate text to find the perfect starting position</li>
                        <li>Experiment with background and foreground images for creative designs</li>
                    </ul>
                </div>
                
                <div class="help-section">
                    <h4>â ï¸ Troubleshooting</h4>
                    <ul>
                        <li><strong>Text not visible:</strong> Check text color against background color</li>
                        <li><strong>Text too small:</strong> Increase canvas size or adjust radius</li>
                        <li><strong>Export issues:</strong> Ensure your browser supports canvas export</li>
                        <li><strong>Browser compatibility:</strong> Works best in Chrome, Firefox, Safari, and Edge</li>
                    </ul>
                </div>
            </div>
            
            <div class="modal-footer">
                <button class="modal-btn modal-btn-primary" id="closeHelpBtn">Got It!</button>
            </div>
        </div>
    </div>

    <!-- Export Modal -->
    <div class="modal-overlay" id="exportModal">
        <div class="modal-content">
            <div class="modal-header">
                <h3>Export</h3>
                <button class="modal-close" id="closeExportModal">&times;</button>
            </div>
            
            <div class="modal-body">
                <div class="modal-section">
                    <label for="exportDuration" class="modal-label">Duration (seconds)</label>
                    <input type="number" id="exportDuration" class="modal-input" min="1" max="60" value="5">
                    <span class="modal-hint">1-60 seconds</span>
                </div>
                
                <div class="modal-section">
                    <label for="exportFormat" class="modal-label">Format</label>
                    <select id="exportFormat" class="modal-select">
                        <option value="auto">Auto (MP4 preferred)</option>
                        <option value="mp4">Force MP4</option>
                        <option value="webm">WebM</option>
                        <option value="png-sequence">PNG Sequence</option>
                        <option value="png">Single PNG</option>
                    </select>
                    <span class="modal-hint">Auto works best for video compatibility, PNG Sequence for image frames</span>
                </div>
                
                <div class="modal-section">
                    <label class="modal-label">Current Text: <span id="currentTextDisplay">Sample Text</span></label>
                    <span class="modal-hint">Change text above to modify what gets exported</span>
                </div>
            </div>
            
            <div class="modal-footer">
                <button class="modal-btn modal-btn-secondary" id="cancelExport">Cancel</button>
                <button class="modal-btn modal-btn-primary" id="startExport">Start Export</button>
            </div>
        </div>
    </div>

    <script src="script.js"></script>
</body>
</html> 